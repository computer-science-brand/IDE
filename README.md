# Путь эволюции редакторов ведет к Vim

## Abstract

Любой разработчик рано или поздно сталкивается с **vim**. Чаще всего это происходит по необходимости настройки удалённого сервера через консоль из-за отсутствия графического интерфейса.

**vim** — это текстовый редактор 90-х годов, который предоставляет весьма полноценный функционал, сравнимый с сегодняшними интегрированными средами разработки (IDE — Integrated Development Environment): открытие нескольких файлов, поиск и замена слов, поддержка регулярных выражений, подсветка синтаксиса, расширяемость с помощью плагинов, работа с множеством окон и многое другое. Однако **vim** не появился ниоткуда — он стал конечным продуктом эволюции одного простого решения.

В этой статье мы рассмотрим путь становления **vim** и увидим, что всё великое начинается с чего-то маленького.

**Keywords**: IDE, vi, vim, ed, em, ex, stevie, elvis, редактор, консоль, терминал, Unix, Linux.

## Ed. По седьмому колени...
70-е годы, в исследовательском центре Bell Кен Томпсон ведет эксперимент в области проектирования ОС. Томпсон заметил, что его эксперимент на каком-то этапе больше похож стал на новую полноценную ОС. Ему достаточно было три недели, чтобы завершить свой эксперимент, создав новую ОС, которую позже назвали Unix. Одну неделю он потратил на создание нового редактора - **ed** (text editor). **ed** стал основным текстовым редактором для ОС Unix и он по сей день остается частью стандарта POSIX. Этот редактор и стал началом **vim**.

В следующем примере мы включаем режим **append**, который позволяет нам писать строки. Точкой мы сообщаем редактору о конце ввода. А в конце мы записываем содержимое буфера в указанный по имени файл.

![ed](https://raw.githubusercontent.com/computer-science-brand/IDE/refs/heads/vim/resources/vim_ed.jpg)

Как можно заметить, теперь новый файл содержит введенные строки. Текстовый редактор был разработан для устройств TTY - приёмно-передающий телеграфный аппарат, который писал на бумаге. Поэтому **ed** мог редактировать только одну строку за одну операцию. Со временем появились мониторы на замену бумаги и возник спрос на модификации редактора **ed**. Это и стало началом для нового редактора **em**.

## Em is Ed for Mortals
**ed** подходил для работы с устройствами TTY, так как он был разработан с учетом функционала этих устройств. Например, **ed** редактировал одну строку за одну операцию, он не мог перемещать курсор на верхнюю строку и т.д.

Профессор Джордж Кулурис счёл, что **ed**, во-первых, сложный редактор, а во-вторых, он не подходит для работы с появившимися в то время мониторами. Поэтому он взял код **ed** за основу и доработал его, создав тем самым редактор **em** или как в переводе "Ed для смертных".


![ed](https://raw.githubusercontent.com/computer-science-brand/IDE/refs/heads/vim/resources/vim_vi.jpg)

## Vi ex Vim

О редакторе **em** не сразу все узнали, тем более те, кто явно не сталкивались с неудобствами старого редактора **ed**. В это время один из студентов Калифорнийского университета все же утомился этим редактором, пока он пытался починить компилятор Pascal. Когда он узнал о новом редакторе **em** на основе старого **ed**, его это вдохновило создать свой редактор, который в итоге стал называться **ex** (Extended Editor), что означает расширенный редактор. Со временем у этого редактора появился режим полноэкранного отображения и его назвали **vi** (Visual). Затем разработчики решили упростить работу с редактором **ex** и решили запускать **ex** сразу же в режиме полного экрана, поэтому создали редактор **vi** - предок **vim**. На самом деле редактор **vi** это запуск редактора **ex** в режиме **vi** (Visual).



![ed](https://raw.githubusercontent.com/computer-science-brand/IDE/refs/heads/vim/resources/vim_clones.jpg)

## Vi и его клоны

Со временем все больше и больше разработчиков пользовались новым редактором **ex** в режиме полного экрана **vi**. Он действительно удовлетворял возникший спрос и подходил для современных компьютеров того времени. Поэтому он был добавлен в дистрибутив BSD в 1979 году как редактор **vi**. Так как кроме ОС BSD были и другие, а **vi** не работал на всех ОС, появились энтузиасты, которые переписывали и дописывали его, чтобы обеспечить эту поддержку. Так и появились разные реализации редактора **vi**.

Один из таких клонов был **stevie** (ST Editor for VI Enthusiasts), который стал предшественником **vim**. Одной важной особенностью **stevie** являлось то, что его код был написан с нуля, в отличие от **vi**, который взял за основу код **ed**. Это давало несколько преимуществ: во-первых, это позволило обойти лицензионные проблемы, а во-вторых, реализовать его поддержку для разных ОС. **stevie** был опубликован как бесплатный редактор с открытым исходным кодом в 1987 году.

Скоро появился следующий клон, от которого **vim** унаследовал его главные особенности - **elvis**. Он был продолжением **stevie** и включал такие функции, как выделение синтаксиса, сохранение буфера в файл и усовершенствованная система навигации.


![vim](https://raw.githubusercontent.com/computer-science-brand/IDE/refs/heads/vim/resources/vim_header.jpg)
## VIM - Vi IMproved
Наконец-то мы пришли к окончательному виду желанного разработчиками столько времени редактора - **vim** (Vi IMproved). За основу он взял код **stevie** и в нем интегрировали все самые актуальные фичи других клонов вроде **elvis**, что в итоге из него вышел некий аналог IDE (Integrated Development Environment - интегрированная среда разработки).

Лицензия **vim** распространяется по GPL-совместимой лицензии, известной как Charityware, то есть благотворительность. Часть средств, пожертвованных на разработку Vim, тратится на поддержку сирот Уганды посредством организации ICCF Holland. 

**vim**, как редактор, по сей день в разработке, но кроме этого существуют множество плагинов, которые по сей день разрабатываются, расширяя базовый функционал. Например, плагин **vim-ai** добавляет функционал искусственного интеллекта в текстовый редактор.

Автором этого легендарного редактора является Брэм Муленаар. За все это время многочисленные опросы не раз называли его одним из самых популярных текстовых редакторов и IDE, и до сих пор он остается редактором по умолчанию во многих современных дистрибутивах Linux. Муленаар продолжал обновлять Vim вплоть до нескольких недель перед своей кончиной 3-ого августа 2023 года.

## CONCLUSION

Брэма Муленаара, Кена Томпсона и остальных больше нет с нами сегодня, в то время как курсор **vim** продолжает мигать в консоли миллионов разработчиков. **vim** стал не просто редактором, а культурным феноменом, символом мастерства и преданности своему делу. Его философия — минимализм, расширяемость и скорость. Он продолжает вдохновлять новые поколения программистов. Даже сегодня, в эпоху умных IDE и облачных сред, Vim остается выбором тех, кто ценит контроль над своим инструментом и понимает, что истинная мощь скрыта не в избытке функций, а в элегантности их исполнения.

## Resources

- [Understanding the Origins and the Evolution of Vi & Vim](https://pikuma.com/blog/origins-of-vim-text-editor)
- [The early days of UNIX](https://www.eecs.qmul.ac.uk/~gc/history/)
- [Bill Joy's greatest gift to man – the vi editor](https://www.theregister.com/2003/09/11/bill_joys_greatest_gift/)
- [em - editor for mortals](http://roguelife.org/~fujita/COOKIES/HISTORY/V6/em.n.html)
